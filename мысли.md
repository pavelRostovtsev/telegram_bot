нужно вынести отправку http сообщений в отдельный сервис и дергать их или в сервисах команд или в контролере если команда не найдена 
слушатели
асинхронность 